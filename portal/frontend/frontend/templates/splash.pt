<!DOCTYPE html>
<html tal:define="role request.GET.get('role', 'student')" tal:define="static_url request.static_url('frontend:static/')">
<head>
  <link rel="stylesheet" href="${static_url}font-awesome/css/font-awesome.min.css">
  <title>${title}</title>
  <link rel="stylesheet" type="text/css" href="${static_url}css/splash.css" />
  <link rel="stylesheet" type="text/css" href="${static_url}css/top.css" />
  <link rel="stylesheet" type="text/css" href="http://code.jboxcdn.com/0.3.2/jBox.css" />
</head>
<body>
<div id="wrapper">
    <div id="contentwrap">
      <img src="${static_url}header.png" width="1100px" />
      <div class="tabs_holder">
       <ul>
        <li tal:repeat="key buttons" tal:attributes="class 'tab_selected' if role=='${key}' else ''">
          <a href="#${key}">${key}</a>
        </li>
       </ul>
       <div tal:define="global counter 0" tal:repeat="key buttons" tal:condition="buttons" class="content_holder">
        <div id="${key}" style="padding:0px;margin:0px;">
          <div id="content">
           <p>
            <tal:block tal:define="items buttons[key]" tal:repeat="button items">
              <div tal:define="global counter counter+1"  id="button_${counter}" class="button">
                <a href="${button.url}">
                    <div><i class="fa fa-${button.icon} fa-5x"></i></div>
                    <br />${button.name}
                </a>
              </div>
            </tal:block>
           </p> 
         </div>  
        </div> 
       </div><!-- /.content_holder -->
      </div><!-- /.tabs_holder -->
    </div>


</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/ui/1.11.2/jquery-ui.min.js"></script>
<script type="text/javascript" src="${static_url}js/skinable_tabs.js"></script>
<script type="text/javascript">
  $('.tabs_holder').skinableTabs({
    skin: 'skin5',
    position: 'top',
    persist_tab: '1'
  });
</script>

<script src="http://code.jboxcdn.com/0.3.2/jBox.min.js"></script>

<tal:block tal:repeat="key buttons" tal:condition="buttons">
  <tal:block tal:define="global another_counter 0" tal:repeat="button buttons[key]">
  <tal:block tal:define="global another_counter another_counter+1">
  <tal:block tal:condition="button.context_menu">

    <ul style="display:none" id="submenus_for_${another_counter}">
      <li style="padding:5px;" tal:repeat="menu_item button.context_menu.get('items')">
        <tal:block tal:condition="menu_item.url">
          <a href="${menu_item.url}">${menu_item.display}</a>
        </tal:block>
        <tal:block tal:condition="not menu_item.url">
          <hr />
        </tal:block>
      </li>
    </ul>


    <script type="text/javascript">

    $('#button_${another_counter}').jBox('Tooltip', {
        position: {
            x: 'left',
            y: 'top'
        },
        outside: 'x',
        title: "Areas within ${button.name}:",
        closeOnMouseleave:true,
        content: $('#submenus_for_${another_counter}')
    });

    </script>

  </tal:block>
  </tal:block>
  </tal:block>
</tal:block>

<script type="text/javascript">
    
    new jBox('Notice', {
        content: 'Try mousing-over some of the icons in the teacher's section',
        color: 'red'
    });


</script>

</body>
</html>
